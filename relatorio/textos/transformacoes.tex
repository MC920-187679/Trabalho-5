\section{Transformações} \label{sec:transformacoes}

As transformações de imagem foram feitas por operações lineares em coordenadas homogêneas dos pixels. Inicialmente, as operações $T$ são aplicadas nos pontos extremos $p_1 = (0, 0, 1)$, $p_2 = (0, H, 1)$, $p_3 = (W, 0, 1)$ e $p_4 = (W, H, 1)$ da imagem $I: H \times W$, de forma que os resultados $p'_i = T \cdot p_i$ pode ser usado para extrair os extremos da imagem transformada. Note que isso é válido, pois as transformações deste trabalho são colineações, isto é, elas mantém a colinearidade entre pontos. Assim, a caixa delimitadora \autocite{bbox} será dada por $(x_{\min}, y_{\min})$ e $(x_{\max}, y_{\max})$, sendo $x_{\min} = \min\left\{ \frac{x_i}{w_i} \;\middle|\; p'_i = (x_i, y_i, w_i)\right\}$ e assim por diante.

Usando a caixa delimitadora como a imagem resultante $I': H' \times W'$, temos os índices $y_{\min} \leq i \leq y_{\max}$ e $x_{\min} \leq j \leq x_{\max}$ como parte da imagem. Assim, podemos aplicar a operação inversa $T'$ para descobrir qual o ponto equivalente na imagem original $I$. A última etapa é a interpolação com os valores discretos da imagem, discutida na \cref{sec:interp} a seguir.

É importante notar, entretanto, que os pixels foram considerados pelo centro. Então, o pixel $ij$ é entendido como $z_{ij} = f(j + 1/2, i + 1/2)$. Para efeito prático, isso feito por uma translação de $T_x = T_y = 1/2$ antes da transformação e outra $T_x = T_y = -1/2$ ao final. Isso faz com que as operações tenham o comportamento esperado.

A seguir estão apresentadas as transformações que podem ser aplicadas com a ferramenta. As matrizes foram baseadas na bibliografia da disciplina \autocite{helio}, com algumas modificações para que a caixa delimitadora sempre comece na origem do plano cartesiano, ou seja, $x_{\min} = y_{\min} = 0$.
